#!/usr/bin/env ruby

require 'optparse'
require 'git'

options = {}
OptionParser.new do |opts|

  opts.on("-m n", "--message=n", "message") do |m|
    options[:message] = m
  end
end.parse!

g = Git.open(Dir.getwd)
g.add
File.write("a_file", options[:message])
g.commit(options[:message])
g.push
